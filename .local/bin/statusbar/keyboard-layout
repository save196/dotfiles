#!/bin/bash

if [ "$XDG_SESSION_TYPE" == "wayland" ]; then
    awk '{ print " " toupper(substr($0, 1, 2))}' /tmp/dwl-keymap 2>/dev/null | sed 's/EN/US/'
else
    setxkbmap -query | grep "layout:" | awk 'NF>1{print toupper(" "$NF)}'
fi
